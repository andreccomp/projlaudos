<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<ui:composition template="/template/template.xhtml">
	<ui:define name="corpo">


<div style="padding-top: 5px; padding-left: 20px; padding-right: 20px; padding-bottom: 20px">

	<div>
		<div class="title">Laudo</div>
	</div>

<h:form>
<h:panelGroup id="formLaudo" >
	<div class="linha" style="padding-bottom: 3px">
			<div style="float:left; padding-top: 6px;">
				<h:outputLabel value="Modelo:"/>
				<h:selectOneMenu id="mod" value="#{pacienteComp.idLaudo}">
					<f:selectItem itemLabel="Escolha um Modelo" itemValue="" />
					<f:selectItems value="#{pacienteComp.modelos}" var="modelo" itemLabel="#{modelo.nmLaudo}" itemValue="#{modelo.idLaudo}" />
					</h:selectOneMenu>
			</div>
			<div style="float:left; padding-left: 10px">
			<p:commandButton image="ui-icon-check" update="display,messages" action="#{pacienteComp.escolheModelo}"
			ajax="true">
			</p:commandButton>
			</div>
	</div>

	<div class="menubarra" style="height: 5px"></div>

	<div class="linha">
		<div style="float:left">
		<h:outputLabel style="padding-right: 2px" value="Data de Realização do Exame:"/>
		<p:calendar value="#{pacienteComp.paciente.dtExame}"></p:calendar>
		</div>
	</div>
	<div class="linha">
		<div style="float:left">
		<h:outputLabel style="padding-right: 2px" value="Nome do Paciente:"/>
		<h:inputText style=" width: 400px" value="#{pacienteComp.paciente.nmPaciente}"/>
		<h:outputLabel style="padding-left: 30px" value="N. Exame:"/>
		<h:inputText style=" width: 100px" value="#{pacienteComp.paciente.numero}"/>
		</div>
		<div style="float:right;">
		<h:outputLabel style="padding-left: 30px" value="Idade:"/>
		<h:inputText style="width: 100px" value="#{pacienteComp.paciente.idade}"/>
		</div>
	</div>
	<div class="linha">
		<h:outputLabel style="padding-right: 11px" value="Nome do Medico:"/>
		<h:inputText style="width: 400px" value="#{pacienteComp.paciente.nmMedico}"/>
		<h:outputLabel style="padding-left: 30px; padding-right: 2px" value="Convenio:"/>
		<h:selectOneMenu id="conv" value="#{pacienteComp.idConvenio}">
				<f:selectItem itemLabel="Escolha um Convenio" itemValue="" />
				<f:selectItems value="#{convenioComp.convenios}" var="convenio" itemLabel="#{convenio.nmConvenio}" itemValue="#{convenio.idConvenio}" />
		</h:selectOneMenu>
	</div>


	<div class="linha">
	<h:panelGroup id="display" >

		<p:editor  value="#{pacienteComp.paciente.txtLaudo}" title="Laudo"
					widgetVar="editor" width="100%" height="400px" />

	</h:panelGroup>
	<div  class="linha">
		<div style="float:left">
			<p:commandButton style="float:left; font-size: 11px" value="Salvar"
					image="ui-icon ui-icon-disk" update="formLaudo,botoes"
					actionListener="#{pacienteComp.gravarLaudo}" onclick="editor.saveHTML()"
					ajax="ajax" />
		</div>
		<h:panelGroup id="botoes">
		<c:if test="#{pacienteComp.novo}">
			<div style="float:right;">
				<p:commandButton style="float:left; font-size: 11px" value="Cancelar"
						action="#{pacienteComp.novoLaudo}"
						image="ui-icon-arrowreturn-1-w" update="formLaudo"
						ajax="false" />
			</div>
		</c:if>
		<c:if test="#{!pacienteComp.novo}">
			<div style="float:right;">
				<p:commandButton style="float:left; font-size: 11px" value="Voltar"
						action="#{pacienteComp.chamaLista}"
						image="ui-icon-arrowreturn-1-w" update="formLaudo"
						ajax="false" />
			</div>
		</c:if>
		</h:panelGroup>
	</div>


</div>

</h:panelGroup>
</h:form>

</div>

	</ui:define>
</ui:composition>

</html>